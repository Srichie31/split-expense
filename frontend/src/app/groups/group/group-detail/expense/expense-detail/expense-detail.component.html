<div *ngIf="expense && user" class="d-flex flex-column h-100">
  <!-- Back Button -->
  <!-- <div class="mb-3">
    <button class="btn btn-sm btn-outline-secondary" (click)="goBack()">
      <i class="bi bi-arrow-left me-1"></i> Back
    </button>
  </div> -->

  <!-- Expense Header -->
  <div
    class="d-flex justify-content-between align-items-center p-3 border-bottom"
  >
    <h5 class="text-primary text-capitalize mb-0">
      {{ expense.description }}
    </h5>
    <div class="dropdown">
      <button
        class="btn btn-sm"
        role="button"
        aria-label="Delete Group"
        id="navbarDropdownMenuAvatar"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        <i class="bi bi-three-dots-vertical"></i>
      </button>
      <ul
        class="dropdown-menu dropdown-menu-end mt-2"
        aria-labelledby="navbarDropdownMenuAvatar"
      >
        <li>
          <a class="dropdown-item text-end" (click)="onEdit()">Edit Expense</a>
        </li>
        <li>
          <a class="dropdown-item text-end" (click)="onDelete()"
            >Delete Expense</a
          >
        </li>
      </ul>
    </div>
  </div>
  <div class="p-3">
    <!-- Paid Info -->
    <p class="text-muted mb-1">
      <i class="bi bi-person-check-fill me-1"></i>
      <strong>{{ user.name }}</strong> paid
      <strong class="text-success"
        >₹{{ expense.amount | number : "1.2-2" }}</strong
      >
    </p>
    <p class="text-muted small mb-3">
      <i class="bi bi-calendar-event me-1"></i>
      {{ expense.expense_date | date : "longDate" }}
    </p>

    <!-- Splits Area -->
    <div class="d-flex flex-column flex-grow-1 overflow-hidden">
      <h6 class="text-secondary mb-2">
        <i class="bi bi-people-fill me-2"></i> Split Between
      </h6>
      <ul class="list-group border rounded overflow-auto" style="flex-grow: 1">
        <li
          *ngFor="let split of expense['splits']"
          class="list-group-item d-flex justify-content-between align-items-center"
        >
          <div>
            <i class="bi bi-person me-2 text-secondary"></i>
            {{ split["username"] }}
          </div>
          <span class="fw-semibold text-dark">
            ₹{{ split.owed | number : "1.2-2" }}
          </span>
        </li>
      </ul>
    </div>
  </div>
</div>
