<!-- Main Container -->
<div class="container-fluid p-0 h-100 overflow-hidden">
  <div class="row g-0 h-100">
    <!-- FORM COLUMN -->
    <div
      class="col-12 col-md-6 d-flex align-items-center justify-content-center p-4 vh-100"
    >
      <div class="w-100" style="max-width: 400px">
        <!-- Error Message -->
        <div class="alert alert-danger" *ngIf="error">
          {{ error }}
        </div>

        <!-- Loading Spinner -->
        <div class="text-center" *ngIf="isLoading">
          <app-loading-spinner></app-loading-spinner>
        </div>

        <!-- Authentication Form -->
        <form
          #authForm="ngForm"
          (ngSubmit)="onSubmit(authForm)"
          *ngIf="!isLoading"
        >
          <!-- Heading -->
          <h2 class="text-start mb-2">
            {{ isLoginMode ? "Login" : "Signup" }}
          </h2>
          <p class="text-start mb-4">
            {{
              isLoginMode
                ? "Welcome Back. Please login to your account."
                : "Create your account and start settling up."
            }}
          </p>

          <!-- Name Field (only in Register mode) -->
          <div class="form-group mb-3" *ngIf="!isLoginMode">
            <input
              type="text"
              class="form-control"
              ngModel
              name="name"
              placeholder="Enter your name"
              required
            />
          </div>

          <!-- Email Field -->
          <div class="form-group mb-3">
            <input
              type="email"
              class="form-control"
              ngModel
              name="email"
              placeholder="Enter your email"
              email
              required
            />
          </div>

          <!-- Password Field -->
          <!-- Password Field -->
          <div
            class="form-group position-relative"
            style="margin-bottom: 1.5rem"
          >
            <input
              [type]="isPasswordVisible ? 'text' : 'password'"
              id="password"
              name="password"
              class="form-control pe-5"
              ngModel
              placeholder="Enter your password"
              minlength="6"
              required
            />
            <button
              type="button"
              class="btn btn-link text-dark position-absolute"
              style="top: 8px; right: 0; z-index: 2"
              (click)="togglePasswordVisibility()"
            >
              <i
                class="bi"
                [ngClass]="{
                  'bi-eye': !isPasswordVisible,
                  'bi-eye-slash': isPasswordVisible
                }"
              ></i>
            </button>
          </div>

          <!-- Submit Button -->
          <button
            [disabled]="!authForm.valid"
            class="btn btn-primary w-100 my-2 py-2"
          >
            {{ isLoginMode ? "Login" : "Register" }}
          </button>

          <!-- Switch Mode Button -->
          <button
            type="button"
            class="btn btn-light w-100 py-2"
            (click)="onSwitchMode()"
          >
            {{ isLoginMode ? "Register" : "Login" }}
          </button>
        </form>
      </div>
    </div>
    <div
      class="col-12 col-md-6 h-100 d-flex align-items-center justify-content-center"
      
    >
      <img src="assets/images/split-vector.png" class="img-fluid" />
    </div>
  </div>
</div>
